!function(e,n){return"function"==typeof define&&define.amd?void define([],n):"object"==typeof exports?void(module.exports=n()):void("object"==typeof e&&"undefined"==typeof e.perfTrack&&(e.perfTrack=n()))}(this,function(){function e(e,n){function t(e){var o=e-u;return o>p&&!c.hidden&&(n(o),A)?i():(u=e,void(r=f(t)))}function o(){u=d.now(),y=null,r=f(t)}function i(){y&&(m(y),y=null),r&&(a(r),r=null)}var r,u,p=e.frameDurationThreshold||200,s=e.startAfter||1e3,A=e.bailOut||!1,y=l(o,s);return i}for(var n=window||global,t=["ms","moz","webkit","o"],o="RequestAnimationFrame",i="CancelAnimationFrame",r="CancelRequestAnimationFrame",a=n.cancelAnimationFrame,f=n.requestAnimationFrame,u=0;u<t.length&&(!f||!a);++u)n.requestAnimationFrame=n[t[u]+o],n.cancelAnimationFrame=n[t[u]+i]||n[t[u]+r];if("undefined"!=typeof n&&"undefined"!=typeof n.performance&&"undefined"!=typeof n.document&&"function"==typeof n.requestAnimationFrame&&"function"==typeof n.cancelAnimationFrame){var m=n.clearTimeout,c=n.document,d=n.performance,l=n.setTimeout;return e}});